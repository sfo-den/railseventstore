# This file is generated by .circleci/config.rb, do not edit it manually!
# Edit .circleci/config.rb and run ruby .circleci/config.rb

version: 2
jobs:
  check_config:
    docker:
    - image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run:
        name: Verify .circleci/config.yml is generated by running ruby .circleci/config.rb
        command: WAS="$(md5sum .circleci/config.yml)" && ruby .circleci/config.rb
          && test "$WAS" == "$(md5sum .circleci/config.yml)"
  aggregate_root:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd aggregate_root && make install mutate
  bounded_context:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd bounded_context && make install mutate
  ruby_event_store:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd ruby_event_store && make install mutate
  ruby_event_store-browser:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd ruby_event_store-browser && make install mutate
  ruby_event_store-rom:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd ruby_event_store-rom && make install mutate
  rails_event_store:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd rails_event_store && make install mutate
  rails_event_store_active_record:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd rails_event_store_active_record && make install mutate
  rails_event_store_active_record-legacy:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd rails_event_store_active_record-legacy && make install mutate
  rails_event_store-rspec:
    docker:
    - environment:
        MUTANT_JOBS: 4
      image: circleci/ruby:2.6.0-node-browsers
    steps:
    - checkout
    - run: cd rails_event_store-rspec && make install mutate
workflows:
  version: 2
  test_mutate:
    jobs:
    - check_config
    - aggregate_root
    - bounded_context
    - ruby_event_store
    - ruby_event_store-browser
    - ruby_event_store-rom
    - rails_event_store
    - rails_event_store_active_record
    - rails_event_store_active_record-legacy
    - rails_event_store-rspec
